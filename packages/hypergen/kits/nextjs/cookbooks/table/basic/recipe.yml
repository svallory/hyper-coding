name: basic
description: |
  Generate a basic TanStack Table with client-side pagination.
  Includes column definitions, type-safe data handling, and shadcn/ui styling.
version: 1.0.0

variables:
  name:
    type: string
    description: Table component name in PascalCase (e.g. "UsersTable", "ProductsTable")
    required: true
    pattern: "^[A-Z][a-zA-Z0-9]*$"

  columns:
    type: array
    description: |
      Table columns in format "key:label:type" (e.g. "id:ID:string", "email:Email:string", "age:Age:number")
      Supported types: string, number, boolean, date
    required: true

  dir:
    type: string
    description: Output directory for table component
    default: "components/tables"

  withPagination:
    type: boolean
    description: Include pagination controls
    default: true

  pageSize:
    type: number
    description: Default page size
    default: 10

steps:
  - name: Install TanStack Table
    tool: install
    packages: ["@tanstack/react-table"]
    optional: true

  - name: Install shadcn/ui components
    tool: shell
    command: |
      if [ ! -f "components/ui/table.tsx" ]; then
        npx shadcn@latest add table --yes
      fi
      if [ "{{ withPagination }}" = "true" ] && [ ! -f "components/ui/button.tsx" ]; then
        npx shadcn@latest add button --yes
      fi

  - name: Generate TypeScript types
    tool: template
    template: templates/types.ts.jig

  - name: Generate column definitions
    tool: template
    template: templates/columns.tsx.jig

  - name: Generate table component
    tool: template
    template: templates/table.tsx.jig

onSuccess: |
  Data table generated successfully!

  Created files:
    - {{ dir }}/{{ name }}.tsx
    - {{ dir }}/columns.tsx
    - lib/types/{{ kebabCase(name) }}.ts

  Usage:
    import { {{ name }} } from '@/{{ dir }}/{{ name }}'

    export default function Page() {
      const data = [] // Your data array
      return <{{ name }} data={data} />
    }

  Next steps:
    - Add sorting: hypergen nextjs table sortable
    - Add filtering: hypergen nextjs table filterable
    - Add server features: hypergen nextjs table server
