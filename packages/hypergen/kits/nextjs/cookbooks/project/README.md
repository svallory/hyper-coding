# Project Cookbook

Bootstrap a complete Next.js 15 project with TypeScript, Tailwind CSS, and modern development tooling.

## Quick Start

Create a new Next.js project:

```bash
hypergen nextjs project create --name=my-app
```

With all options:

```bash
hypergen nextjs project create \
  --name=my-app \
  --description="My awesome Next.js application" \
  --useSrcDir \
  --linter=eslint
```

## Recipes

### [create](./create/) - Create New Project
Generate a complete Next.js 15 project structure with TypeScript, Tailwind CSS v4, and your choice of linting tools.

**Features:**
- Next.js 15 with App Router
- TypeScript configuration
- Tailwind CSS v4
- ESLint or Biome linting
- Git initialization ready
- Environment variables template
- Development scripts

## What Gets Created

### File Structure

**Standard (without --useSrcDir):**
```
my-app/
├── app/
│   ├── globals.css
│   ├── layout.tsx
│   └── page.tsx
├── public/
│   ├── next.svg
│   ├── vercel.svg
│   ├── file.svg
│   ├── globe.svg
│   └── window.svg
├── .env.example
├── .gitignore
├── eslint.config.mjs (or biome.json)
├── next.config.ts
├── next-env.d.ts
├── package.json
├── postcss.config.mjs
├── README.md
└── tsconfig.json
```

**With src/ directory (--useSrcDir):**
```
my-app/
├── src/
│   └── app/
│       ├── globals.css
│       ├── layout.tsx
│       └── page.tsx
├── public/
├── ... (other config files)
```

## Project Options

- `--name` (required) - Project directory name
- `--description` - Project description for package.json
- `--useSrcDir` - Use src/ directory structure (default: false)
- `--linter` - Linting tool: eslint, biome, or none (default: eslint)

## Linting Options

### ESLint (Default)
TypeScript-first ESLint configuration with Next.js rules:
- @next/eslint-plugin-next
- @typescript-eslint
- Flat config format (eslint.config.mjs)

### Biome
Fast, Rust-based linter and formatter:
- Faster than ESLint + Prettier
- Built-in formatter
- TypeScript support
- Configuration in biome.json

### None
Skip linting setup for custom configuration later.

## After Creation

### 1. Install Dependencies

```bash
cd my-app
bun install
```

### 2. Set Up Environment

```bash
cp .env.example .env
# Edit .env with your values
```

### 3. Start Development

```bash
bun dev
```

Open [http://localhost:3000](http://localhost:3000)

### 4. Configure Stack

Use the config cookbook to add database, UI components, etc.:

```bash
# Interactive wizard
hypergen nextjs config all

# Or individual tools
hypergen nextjs config prisma
hypergen nextjs config shadcn
hypergen nextjs config tanstack-query
```

## Scripts

Generated `package.json` includes:

```json
{
  "scripts": {
    "dev": "next dev --turbopack",
    "build": "next build",
    "start": "next start",
    "lint": "next lint"
  }
}
```

## Project Configuration

### TypeScript (tsconfig.json)

Strict TypeScript configuration with:
- Path aliases: `@/*` → project root or `src/*`
- Strict mode enabled
- Next.js specific compiler options

### Tailwind CSS

Tailwind v4 with:
- @tailwindcss/postcss plugin
- Typography plugin ready
- Custom color schemes in globals.css
- Dark mode support

### Next.js Config

Modern Next.js configuration:
- TypeScript config file (next.config.ts)
- Turbopack in development
- Optimized for production
- Image optimization enabled

## Initial Pages

### Root Layout (app/layout.tsx)

```typescript
import type { Metadata } from "next"
import "./globals.css"

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
}

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode
}>) {
  return (
    <html lang="en">
      <body>{children}</body>
    </html>
  )
}
```

### Home Page (app/page.tsx)

Starter page with Next.js branding and helpful links.

## Git Setup

Project includes `.gitignore` with:
- node_modules/
- .next/
- .env files (except .env.example)
- Build output
- IDE files

Initialize Git:

```bash
git init
git add .
git commit -m "feat: initial project setup"
```

## Common Next Steps

### Add Database

```bash
# Prisma
hypergen nextjs config prisma

# Drizzle
hypergen nextjs config drizzle
```

### Add UI Components

```bash
hypergen nextjs config shadcn
```

### Add State Management

```bash
hypergen nextjs config tanstack-query
```

### Create First Feature

```bash
# Generate a CRUD resource
hypergen nextjs crud resource --name=post

# Or individual pages
hypergen nextjs page add --path=about
hypergen nextjs component add --name=Header --dir=components
```

### Add Authentication

```bash
# Coming soon in config cookbook
# For now, install manually:
# - NextAuth.js
# - Clerk
# - Auth0
```

## Deployment

### Vercel (Recommended)

```bash
bun install -g vercel
vercel
```

### Docker

Create `Dockerfile`:

```dockerfile
FROM node:20-alpine AS base

FROM base AS deps
RUN apk add --no-cache libc6-compat
WORKDIR /app
COPY package.json bun.lockb ./
RUN bun install --frozen-lockfile

FROM base AS builder
WORKDIR /app
COPY --from=deps /app/node_modules ./node_modules
COPY . .
RUN bun run build

FROM base AS runner
WORKDIR /app
ENV NODE_ENV=production
COPY --from=builder /app/public ./public
COPY --from=builder /app/.next/standalone ./
COPY --from=builder /app/.next/static ./.next/static
EXPOSE 3000
CMD ["node", "server.js"]
```

### Other Platforms

Project works on any platform supporting Node.js:
- Netlify
- Railway
- Render
- AWS Amplify
- DigitalOcean App Platform

## Best Practices

✅ **Use src/ for larger projects** - Better organization
✅ **Set up environment variables early** - Use .env.example as template
✅ **Choose linting tool wisely** - ESLint for plugins, Biome for speed
✅ **Initialize Git immediately** - Track changes from start
✅ **Configure database next** - Most apps need data storage
✅ **Use TypeScript strictly** - Catch errors early
✅ **Follow Next.js conventions** - App Router patterns

## Customization

### Add Dependencies

```bash
# React Icons
bun add react-icons

# Date handling
bun add date-fns

# Forms
bun add react-hook-form zod @hookform/resolvers

# HTTP client
bun add ky
```

### Modify Tailwind

Edit `app/globals.css`:

```css
@import "tailwindcss";

@theme {
  /* Your custom design tokens */
  --color-primary: #3b82f6;
  --color-secondary: #8b5cf6;
}
```

### Update Metadata

Edit `app/layout.tsx`:

```typescript
export const metadata: Metadata = {
  title: {
    default: "My App",
    template: "%s | My App",
  },
  description: "My awesome application",
  openGraph: {
    type: "website",
    locale: "en_US",
    url: "https://myapp.com",
    siteName: "My App",
  },
}
```

## Troubleshooting

### Port already in use
```bash
# Change port
bun dev -- -p 3001
```

### Build errors
```bash
# Clean build
rm -rf .next
bun run build
```

### Type errors
```bash
# Regenerate types
rm -rf .next
bun dev
```

## Related Cookbooks

- [config](../config/) - Configure your project stack
- [page](../page/) - Generate pages
- [component](../component/) - Create components
- [crud](../crud/) - Build CRUD features
