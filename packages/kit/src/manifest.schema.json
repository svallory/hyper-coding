{
	"$schema": "http://json-schema.org/draft-07/schema#",
	"$id": "https://hypergen.dev/schemas/kit-manifest.json",
	"title": "Hypergen Kit Manifest",
	"description": "Tracks installed kits in a Hypergen project",
	"type": "object",
	"required": ["version", "kits"],
	"properties": {
		"version": {
			"type": "string",
			"description": "Manifest schema version",
			"pattern": "^\\d+\\.\\d+\\.\\d+$",
			"examples": ["1.0.0"]
		},
		"kits": {
			"type": "object",
			"description": "Map of kit name to kit entry",
			"additionalProperties": {
				"$ref": "#/definitions/KitManifestEntry"
			}
		}
	},
	"definitions": {
		"KitManifestEntry": {
			"type": "object",
			"required": ["name", "source", "type", "installedAt"],
			"properties": {
				"name": {
					"type": "string",
					"description": "Kit name (directory name in .hyper/kits/)",
					"minLength": 1,
					"examples": ["nextjs", "react", "my-custom-kit"]
				},
				"source": {
					"type": "string",
					"description": "Original source string provided by user",
					"minLength": 1,
					"examples": [
						"@hyper-kits/nextjs",
						"user/repo",
						"github:user/repo#branch",
						"./local-kit",
						"https://github.com/user/repo.git"
					]
				},
				"type": {
					"type": "string",
					"description": "Source type",
					"enum": [
						"npm",
						"jsr",
						"github",
						"gitlab",
						"bitbucket",
						"git",
						"local",
						"url"
					]
				},
				"installedAt": {
					"type": "string",
					"description": "Installation timestamp in ISO 8601 format",
					"format": "date-time",
					"examples": ["2026-02-13T14:30:00.000Z"]
				},
				"commit": {
					"type": "string",
					"description": "Git commit hash (for git-based sources)",
					"pattern": "^[0-9a-f]{7,40}$",
					"examples": ["a1b2c3d", "a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0"]
				},
				"version": {
					"type": "string",
					"description": "NPM/JSR version or version from package.json",
					"pattern": "^\\d+\\.\\d+\\.\\d+",
					"examples": ["1.0.0", "1.2.3-beta.1", "2.0.0-rc.1"]
				},
				"branch": {
					"type": "string",
					"description": "Git branch (for git-based sources with branch)",
					"minLength": 1,
					"examples": ["main", "develop", "feature/new-templates"]
				},
				"tag": {
					"type": "string",
					"description": "Git tag (for git-based sources with tag)",
					"minLength": 1,
					"examples": ["v1.0.0", "release-2024-01"]
				}
			},
			"additionalProperties": false
		}
	},
	"additionalProperties": false
}
