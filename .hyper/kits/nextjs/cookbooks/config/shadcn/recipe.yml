name: shadcn
description: |
  Initialize shadcn/ui component library in your Next.js project.
  Supports both Radix UI and Base UI primitives (Base UI is officially supported as of Jan 2026).
version: 1.0.0

variables:
  primitives:
    type: enum
    description: Which primitive library to use
    values: [baseui, radix]
    default: baseui

  style:
    type: enum
    description: Design style
    values: [default, new-york]
    default: default

  baseColor:
    type: enum
    description: Base color for components
    values: [slate, gray, zinc, neutral, stone]
    default: zinc

  cssVariables:
    type: boolean
    description: Use CSS variables for colors
    default: true

steps:
  - name: Check for existing shadcn/ui installation
    tool: shell
    command: |
      if [ -f "components.json" ]; then
        echo "⚠️  Warning: components.json already exists"
        echo "This may overwrite your existing shadcn/ui configuration"
        read -p "Continue? (y/n) " -n 1 -r
        echo
        if [[ ! $REPLY =~ ^[Yy]$ ]]; then
          exit 1
        fi
      fi

  - name: Initialize shadcn/ui
    tool: shell
    command: |
      npx shadcn@latest init \
        --yes \
        --defaults=false \
        --style {{ style }} \
        --base-color {{ baseColor }} \
        --primitives {{ primitives }} \
        @if(cssVariables)
--css-variables@else
--no-css-variables@end


  - name: Install essential components
    tool: shell
    command: |
      echo "Installing essential shadcn/ui components..."
      npx shadcn@latest add button form input label select textarea --yes --overwrite

  - name: Create component documentation
    tool: template
    template: templates/components-readme.md.jig

  - name: Instructions
    tool: shell
    command: |
      echo "✅ shadcn/ui initialized successfully!"
      echo ""
      echo "Primitive library: {{ primitives }}"
      echo "Style: {{ style }}"
      echo "Base color: {{ baseColor }}"
      echo ""
      echo "Installed components:"
      echo "  - Button"
      echo "  - Form (with React Hook Form + Zod)"
      echo "  - Input"
      echo "  - Label"
      echo "  - Select"
      echo "  - Textarea"
      echo ""
      echo "Next steps:"
      echo "  1. Add more components: npx shadcn@latest add <component>"
      echo "  2. Browse components: https://ui.shadcn.com/docs/components"
      echo "  3. Customize theme in components.json"
      echo "  4. Import components: import { Button } from '@/components/ui/button'"
      echo ""
      echo "See components/ui/README.md for usage examples"
